local d={}local _a=require("utils").tHex function d.extensionProperties(ba) ba:initialize("VisualElement")ba:addProperty("border","boolean",false) ba:addProperty("borderClickable","boolean",false) ba:addProperty("borderSides","table",{["top"]=true,["bottom"]=true,["left"]=true,["right"]=true})ba:addProperty("borderType","string","small") ba:addProperty("borderColor","color",colors.black)end;local aa=require("log") function d.init(ba) ba:extend("Init",function(ca)local da=ca.isInside;local _b=ca.render ca.isInside=function(ab,bb,cb) local db,_c=ab:getPosition()local ac=ab:getBorderSides() if(ab:getBorderClickable())then if (ab:getType()=="Button")then end if(ac["top"]and cb-_c==-1)then cb=cb+1 end if(ac["bottom"]and cb-_c==ab:getHeight())then cb=cb-1 end;if(ac["left"]and bb-db==-1)then bb=bb+1 end if(ac["right"]and bb-db==ab:getWidth())then bb=bb-1 end end;return da(ab,bb,cb)end ca.render=function(ab)_b(ab)local bb=ab:getBorder() if(bb)then local cb,db=ab:getSize() local _c=_a[ab:getBorderColor()]local ac=ab:getBorderSides() local bc=_a[ab:getBackground()]local cc=ab:getBorderType() if(cc=="solid")then for i=1,db do ab:addBlit(0,i," ",_c,_c,true)ab:addBlit(cb+1,i," ",_c,_c,true)end;local dc=(" "):rep(cb+2)local _d=_c:rep(cb+2)if(ac["top"])then ab:addBlit(0,0,dc,_d,_d,true)end;if(ac["bottom"])then ab:addBlit(0,db+1,dc,_d,_d,true)end elseif(cc=="small")then for i=1,db do if(ac["left"])then ab:addBlit(0,i,"\149",_c,bc,true)end;if(ac["right"])then ab:addBlit(cb+1,i,"\149",bc,_c,true)end end;local dc=_c:rep(cb+1)local _d=bc:rep(cb+1) if(ac["top"])then ab:addBlit(1,0,("\131"):rep(cb+ 1),dc,_d)end;if(ac["bottom"])then ab:addBlit(1,db+1,("\143"):rep(cb+1),_d,dc,true)end;if(ac["top"]and ac["left"])then ab:addBlit(0,0,"\151",_c,bc,true)end;if(ac["top"]and ac["right"])then ab:addBlit(cb+1,0,"\148",bc,_c,true)end if(ac["bottom"]and ac["left"])then ab:addBlit(0, db+1,"\138",bc,_c,true)end;if(ac["bottom"]and ac["right"])then ab:addBlit(cb+1,db+1,"\133",bc,_c,true)end end end end;return ca end)end;function d.setBorderSide(ba,ca,da) if(type(ca)=="table")then ba.borderSides=ca else ba.borderSides[ca]=da end;return ba end;function d.getBorderSide(ba,ca)return ba.borderSide[ca]end;return{VisualElement=d}